// Autogenerated from development/scanners/punctuation_element.i

package ideal.development.scanners;

import ideal.library.elements.*;
import ideal.library.characters.*;
import ideal.library.patterns.*;
import ideal.runtime.elements.*;
import ideal.runtime.characters.*;
import ideal.runtime.patterns.*;
import ideal.runtime.logs.*;
import ideal.machine.characters.*;
import ideal.machine.channels.string_writer;
import ideal.development.elements.*;
import ideal.development.names.*;
import ideal.development.notifications.*;
import ideal.development.origins.*;
import ideal.development.comments.*;
import ideal.development.literals.*;
import ideal.development.modifiers.*;
import ideal.development.constructs.constraint_category;
import ideal.development.jumps.jump_category;

import javax.annotation.Nullable;

public class punctuation_element extends base_scanner_element {
  protected final punctuation_type the_punctuation;
  private final pattern<Character> punctuation_pattern;
  public punctuation_element(final punctuation_type the_punctuation) {
    this.the_punctuation = the_punctuation;
    this.punctuation_pattern = new list_pattern<Character>(the_punctuation.name());
  }
  public @Override @Nullable scan_state process(final source_content source, final Integer begin) {
    final string input = source.content;
    final @Nullable Integer match = this.punctuation_pattern.match_prefix(input.skip(begin));
    if (match == null) {
      return null;
    }
    final Integer end = begin + match;
    final origin the_origin = source.make_origin(begin, end);
    final string image = input.slice(begin, end);
    return new scan_state(new base_token<string>(this.the_punctuation, image, the_origin), end, end);
  }
}
