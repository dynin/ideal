// Autogenerated from isource/runtime/channels/output_counter.i

package ideal.runtime.channels;

import ideal.library.elements.*;
import ideal.library.channels.*;
import ideal.runtime.elements.*;

public class output_counter<value_type> implements output<value_type> {
  private final output<value_type> the_output;
  private int count;
  public output_counter(final output<value_type> the_output) {
    this.the_output = the_output;
    this.count = 0;
  }
  public int get_count() {
    return count;
  }
  public @Override void write(final value_type value) {
    count += 1;
    the_output.write(value);
  }
  public @Override void write_all(final readonly_list<value_type> values) {
    count += values.size();
    the_output.write_all(values);
  }
  public @Override void sync() {
    the_output.sync();
  }
  public @Override void close() {
    the_output.close();
  }
}
