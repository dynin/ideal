<p>
  This document provides instructions for installing and running
  the ideal metaprogramming framework.
  For an introduction to the ideal source notation, please read
  <a href='urn:ideal:ideal.documentation.quickstart'>quickstart</a>.
  For description of the directory layout, read
  <a href='urn:ideal:ideal.documentation.here_be_dragons'>overview
  of the ideal codebase</a>.
</p>
<dl>
  <dt>Step 1: Clone GitHub Repository.</dt>
  <dd>Go to the <a href='https://github.com/dynin/ideal'>GitHub project page</a>,
      and <a href='https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository-from-github/cloning-a-repository'>follow
      the instructions</a> to create a local copy of the repo.
  </dd>

  <dt>Step 2: Install JDK.</dt>
  <dd>
  <p>
    Ideal works with JDK 8 or higher.
    You can download the recent JDK
    <a href='https://www.oracle.com/java/technologies/javase-jdk16-downloads.html'>from
    the Java site</a>.
  </p>
  <p>
    On macOS, after you installed JDK 16, running <span class='q'>/usr/libexec/java_home</span>
    should output
    <span class='q'>/Library/Java/JavaVirtualMachines/jdk-16.0.2.jdk/Contents/Home</span>
  </p>
  </dd>

  <dt>Step 3: Download Dependencies.</dt>
  <dd>
  <p>
    Before running ideal, you need to create and populate the
    <span class='q'>thirdparty</span> directory; you can do that by
    running <span class='q'>bin/setup-thirdparty.sh</span> script from
    the top-level directory.
    The dependencies are <a href='https://jcp.org/en/jsr/detail?id=305'>JSR 305 annotations</a>
    and <a href='http://www2.cs.tum.edu/projects/cup/'>JavaCUP</a>.
  </p>
  <p>
    In addition, you'll need to create a symlink from
    <span class='q'>thirdparty/jdk</span> to the JDK home directory.
    On macOS, the setup-thirdparty script should do that for you.
    It should be possible to invoke the Java compiler by running
    <span class='q'>thirdparty/jdk/bin/javac</span>.
  </p>
  <p>
    To run the experimental Coach app, you'll need
    <a href='https://github.com/google/gson'>Google Gson</a> and
    <a href='https://cloud.google.com/appengine/downloads'>AppEngine SDK</a>
    (you can skip that if you are just trying ideal out).
  </p>
  </dd>

  <dt>Step 4: Compile And Run!</dt>
  <dd>
    Make is currently used to build and run ideal.
    <ul>
      <li>
        <span class='q'>make hello</span> &mdash; try this first!
      </li>
      <li>
        <span class='q'>make circle</span> &mdash; run the
        <a href='urn:ideal:ideal.documentation.type_flavors'>type flavors example</a> from
        <a href='https://github.com/dynin/ideal/blob/master/showcase/circle.i'>this source</a>.
      </li>
      <li>
        <span class='q'>make print_elements</span> &mdash;
        bootstraps
        <span class='q'>ideal.library.elements</span>, analyzes it and prints it out.
        This is the default target.
      </li>
      <li>
        <span class='q'>make generate_library</span> and
        <span class='q'>make generate_runtime</span>
        generate Java source code from library and runtime, respectively.
      </li>
      <li>
        <span class='q'>make test_librun</span> tests that the library and runtime code
        compiles.
      </li>
      <li>
        <span class='q'>make bootstrap_library</span> and
        <span class='q'>make bootstrap_runtime</span> bootstrap
        the code by overwriting the files in bootstrapped directory.
      </li>
      <li>
        <span class='q'>make document_site</span> &mdash;
        generate the content of <span class='q'>theideal.org</span> site.
        The files are written to <span class='q'>build/pretty/</span> and can
        be viewed directly from the filesystem.
      </li>
      <li>
        <span class='q'>make deploy_site</span> &mdash;
        prepare the content of <span class='q'>theideal.org</span> for deployment.
        The files are written to <span class='q'>build/theideal.org/</span>,
        but the links do not work on the filesystem.
      </li>
    </ul>
  </dd>
</dl>

<p>
  For questions and feedback,
  <a href='urn:ideal:ideal.documentation.communication'>here's how to communicate</a>.
</p>
